<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>JavaScript III</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="" />
</head>

<body>
<h1>JavaScript III</h1>
<div id="buttons">
    <input type="button" id="toggle-rotation" value="Start / Stop">
    <input type="button" id="toggle-direction" value="Rückwärts">
</div>

<div id="my-area">
    <span>Veränderung ist gut</span>
</div>
</body>

<script>
    let div = document.getElementById('my-area');

    let toggleRotationBtn = document.getElementById('toggle-rotation');
    let toggleDirectionBtn = document.getElementById('toggle-direction');

    let isRotating = false;
    let isRotatingForward = true;

    let runner;
    let degrees = 0;

    function startRotation () {
        runner = setInterval(function() {
            degrees++;

            let modifier = '+';
            if (!isRotatingForward) {
                modifier = '-';
            }

            div.style.transform = 'rotate(' + modifier + degrees + 'deg)';
        }, 10)
        isRotating = true;
    }

    function stopRotation () {
        clearInterval(runner);
        isRotating = false;
    }

    toggleRotationBtn.addEventListener('click', function() {
        if (!isRotating) {
            startRotation();
        } else {
            stopRotation();
        }
    })

    toggleDirectionBtn.addEventListener('click', function() {
        stopRotation();

        if (isRotatingForward === true) {
            isRotatingForward = false;
            toggleDirectionBtn.value = 'Vorwärts';
        } else {
            isRotatingForward = true;
            toggleDirectionBtn.value = 'Rückwärts';
        }

        startRotation()
    })

</script>

<style>
    #buttons {
        text-align: center;
    }

    #my-area {
        margin: 75px auto auto;
        background-color: #336699;
        height: 300px;
        width: 300px;
        line-height: 300px;
        color: #fff;
        font-size: 12px;
        text-align: center;
    }

    #my-area span {
        display: inline-block;
        vertical-align: middle;
        line-height: normal;
    }

</style>

</html>